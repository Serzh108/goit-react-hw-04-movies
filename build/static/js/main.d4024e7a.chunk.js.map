{"version":3,"sources":["components/settings.js","components/nav/Nav.js","pages/Reviews.js","pages/MovieDetailsPage.js","App.js","index.js"],"names":["popularFilms","movieDetails","keyWordSearch","imagePath","Nav","className","activeStyle","fontWeight","color","exact","to","axios","defaults","baseURL","Reviews","state","reviewsData","getData","query","a","settings","process","get","response","setState","prev","data","results","console","log","filmId","this","props","match","params","movieId","length","map","review","key","id","author","content","Component","AsyncCast","lazy","MovieDetailsPage","moveiInfo","handleClickBack","history","location","push","from","title","overview","popularity","poster_path","genres","onClick","src","alt","Math","round","genre","name","pathname","fallback","path","component","AsyncHomePage","AsyncMoviesPage","App","moviesList","prevProps","prevState","popular","render","MoviesDetailsPage","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d4024e7a.chunk.js","sourcesContent":["export const popularFilms = 'trending/movie/day';\r\nexport const movieDetails = 'movie/';\r\nexport const keyWordSearch = 'search/movie';\r\nexport const imagePath = 'https://image.tmdb.org/t/p/w500';","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <ul className=\"Nav\">\r\n      <li className=\"NavItem\">\r\n        <NavLink\r\n          activeStyle={{\r\n            fontWeight: 'bold',\r\n            color: 'tomato',\r\n          }}\r\n          exact\r\n          to=\"/\">\r\n          Home\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"NavItem\">\r\n        <NavLink\r\n          activeStyle={{\r\n            fontWeight: 'bold',\r\n            color: 'tomato',\r\n          }}\r\n          exact\r\n          to=\"/movies\">\r\n          Movies\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport * as settings from '../components/settings';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n\r\n// const settings = {\r\n//   movieDetails: 'movie/',\r\n// };\r\n\r\nclass Reviews extends Component {\r\n  state = { reviewsData: [] };\r\n\r\n  componentDidMount() {\r\n    const filmId = this.props.match.params.movieId;\r\n    filmId && this.getData(filmId);\r\n  }\r\n\r\n  getData = async query => {\r\n    const movieDetails = `${settings.movieDetails}${query}/reviews?api_key=${process.env.REACT_APP_MOVIEDB_KEY}`;\r\n    try {\r\n      const response = await axios.get(movieDetails);\r\n      this.setState(prev => ({\r\n        reviewsData: response.data.results,\r\n      }));\r\n    } catch (error) {\r\n      console.log('Error: ', error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { reviewsData } = this.state;\r\n    return reviewsData.length ? (\r\n      <ul>\r\n        {reviewsData.map(review => (\r\n          <li key={review.id}>\r\n            <p>\r\n              Author: <span>{review.author}</span>\r\n            </p>\r\n            <p>{review.content}</p>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    ) : (\r\n      <p>We don't have any reviews for this movie.</p>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Reviews;\r\n","import React, { lazy, Suspense, Component } from 'react';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport Reviews from './Reviews';\r\nimport axios from 'axios';\r\nimport * as settings from '../components/settings';\r\n\r\nconst AsyncCast = lazy(() =>\r\n  import('./Cast' /* webpackChankName: \"cast-page\" */),\r\n);\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n// const settings = {\r\n//   movieDetails: 'movie/',\r\n//   imagePath: 'https://image.tmdb.org/t/p/w500',\r\n// };\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = { moveiInfo: {} };\r\n\r\n  componentDidMount() {\r\n    const movieId = this.props.match.params.movieId;\r\n    this.getData(movieId);\r\n  }\r\n\r\n  getData = async query => {\r\n    const movieDetails = `${settings.movieDetails}${query}?api_key=${process.env.REACT_APP_MOVIEDB_KEY}`;\r\n    try {\r\n      const response = await axios.get(movieDetails);\r\n      this.setState(prev => ({\r\n        moveiInfo: {\r\n          ...response.data,\r\n        },\r\n      }));\r\n    } catch (error) {\r\n      console.log('Error: ', error);\r\n    }\r\n  };\r\n\r\n  handleClickBack = () => {\r\n    const { history, location } = this.props;\r\n    if (location.state) {\r\n      return history.push(location.state.from);\r\n    }\r\n    history.push('/');\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      title,\r\n      overview,\r\n      popularity,\r\n      poster_path,\r\n      genres,\r\n    } = this.state.moveiInfo;\r\n    return (\r\n      <>\r\n        <div className=\"DetailsInfo\">\r\n          <div>\r\n            <button className=\"GoBackButton\" onClick={this.handleClickBack}>\r\n              &#8592; Go back\r\n            </button>\r\n            <img\r\n              className=\"DetailsImg\"\r\n              src={poster_path ? settings.imagePath + poster_path : ''}\r\n              alt=\"img\"\r\n            />\r\n          </div>\r\n          <div className=\"DetailsInfoTextBlock\">\r\n            <div>\r\n              <h3>{title}</h3>\r\n              <p>User scope: {Math.round(popularity)}%</p>\r\n            </div>\r\n            <div>\r\n              <h4>Overview</h4>\r\n              <p>{overview}</p>\r\n            </div>\r\n            <div>\r\n              <h4>Genres</h4>\r\n              <p>\r\n                {genres\r\n                  ? genres.map(genre => (\r\n                      <span key={genre.name}> {genre.name} </span>\r\n                    ))\r\n                  : null}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"AdditionalInfo\">\r\n          <p>Additional information</p>\r\n          <ul>\r\n            <li>\r\n              <Link\r\n                to={{\r\n                  pathname: `/movies/${id}/cast`,\r\n                }}>\r\n                Cast\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link\r\n                to={{\r\n                  pathname: `/movies/${id}/reviews`,\r\n                }}>\r\n                Reviews\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div>\r\n          <Suspense fallback={<h1>Loading...</h1>}>\r\n            <Route path=\"/movies/:movieId/cast\" component={AsyncCast} />\r\n          </Suspense>\r\n          <Route path=\"/movies/:movieId/reviews\" component={Reviews} />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n","import React, { lazy, Suspense, Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Nav from './components/nav/Nav';\nimport MoviesDetailsPage from './pages/MovieDetailsPage';\nimport axios from 'axios';\nimport * as settings from './components/settings';\n\nconst AsyncHomePage = lazy(() =>\n  import('./pages/HomePage' /* webpackChankName: \"home-page\" */),\n);\nconst AsyncMoviesPage = lazy(() =>\n  import('./pages/MoviesPage' /* webpackChankName: \"movies-page\" */),\n);\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n// const settings = {\n//   popularFilms: 'trending/movie/day',\n// };\n\nclass App extends Component {\n  state = {\n    moviesList: [],\n  };\n\n  componentDidMount() {\n    this.getData();\n  }\n  componentDidUpdate(prevProps, prevState) {}\n\n  async getData() {\n    const popular = `${settings.popularFilms}?api_key=${process.env.REACT_APP_MOVIEDB_KEY}`;\n    try {\n      const response = await axios.get(popular);\n      this.setState(prev => ({\n        moviesList: [...prev.moviesList, ...response.data.results],\n      }));\n    } catch (error) {\n      console.log('Error: ', error);\n    }\n  }\n  \n  render() {\n    const { moviesList } = this.state;\n    return (\n      <>\n        <Nav />\n        <Suspense fallback={<h1>Loading...</h1>}>\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={props => (\n                <AsyncHomePage {...props} moviesList={moviesList} />\n              )}\n            />\n            <Route path=\"/movies/:movieId\" component={MoviesDetailsPage} />\n            <Route path=\"/movies\" component={AsyncMoviesPage} />\n          </Switch>\n        </Suspense>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/main.css';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route component={App} />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}