{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","pages/Reviews.js","pages/MovieDetailsPage.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","axios","defaults","baseURL","Reviews","state","reviewsData","getData","query","a","movieDetails","settings","process","get","response","setState","prev","data","results","console","log","filmId","this","props","match","params","movieId","map","review","id","author","content","Component","AsyncCast","lazy","MovieDetailsPage","moveiInfo","handleClickBack","history","location","from","title","overview","popularity","poster_path","genres","className","onClick","src","alt","Math","round","genre","name","to","pathname","fallback","path","component"],"mappings":"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","file":"static/js/5.d0d5d5d8.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport * as settings from '../components/settings';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n\r\n\r\nclass Reviews extends Component {\r\n  state = { reviewsData: [] };\r\n\r\n  componentDidMount() {\r\n    const filmId = this.props.match.params.movieId;\r\n    filmId && this.getData(filmId);\r\n  }\r\n\r\n  getData = async query => {\r\n    const movieDetails = `${settings.movieDetails}${query}/reviews?api_key=${process.env.REACT_APP_MOVIEDB_KEY}`;\r\n    try {\r\n      const response = await axios.get(movieDetails);\r\n      this.setState(prev => ({\r\n        reviewsData: response.data.results,\r\n      }));\r\n    } catch (error) {\r\n      console.log('Error: ', error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { reviewsData } = this.state;\r\n    return reviewsData.length ? (\r\n      <ul>\r\n        {reviewsData.map(review => (\r\n          <li key={review.id}>\r\n            <p>\r\n              Author: <span>{review.author}</span>\r\n            </p>\r\n            <p>{review.content}</p>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    ) : (\r\n      <p>We don't have any reviews for this movie.</p>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Reviews;\r\n","import React, { lazy, Suspense, Component } from 'react';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport Reviews from './Reviews';\r\nimport axios from 'axios';\r\nimport * as settings from '../components/settings';\r\n\r\nconst AsyncCast = lazy(() =>\r\n  import('./Cast' /* webpackChankName: \"cast-page\" */),\r\n);\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = { moveiInfo: {} };\r\n\r\n  componentDidMount() {\r\n    const movieId = this.props.match.params.movieId;\r\n    this.getData(movieId);\r\n  }\r\n\r\n  getData = async query => {\r\n    const movieDetails = `${settings.movieDetails}${query}?api_key=${process.env.REACT_APP_MOVIEDB_KEY}`;\r\n    try {\r\n      const response = await axios.get(movieDetails);\r\n      this.setState(prev => ({\r\n        moveiInfo: {\r\n          ...response.data,\r\n        },\r\n      }));\r\n    } catch (error) {\r\n      console.log('Error: ', error);\r\n    }\r\n  };\r\n\r\n  handleClickBack = () => {\r\n    const { history, location } = this.props;\r\n    if (location.state) {\r\n      // if (location.state.from.pathname === '/movies') {\r\n      //   // console.log(\r\n      //   //   'location.from /movies = ',\r\n      //   //   JSON.stringify(location.state.from),\r\n      //   // );\r\n      //   return history.push(location.state.from)\r\n      // } else {\r\n      //   console.log(\r\n      //     'location.from /movies/... = ',\r\n      //     JSON.stringify(location.state.from),\r\n      //     // JSON.stringify(location.state.from.state.from),\r\n      //   );\r\n      //   return history.push(location.state.from)\r\n      // }\r\n\r\n      return history.push(location.state.from);\r\n    }\r\n    // history.push(location.state.from);\r\n    // history.push('/');\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      title,\r\n      overview,\r\n      popularity,\r\n      poster_path,\r\n      genres,\r\n    } = this.state.moveiInfo;\r\n    return (\r\n      <>\r\n        <div className=\"DetailsInfo\">\r\n          <div>\r\n            <button className=\"GoBackButton\" onClick={this.handleClickBack}>\r\n              &#8592; Go back\r\n            </button>\r\n            <img\r\n              className=\"DetailsImg\"\r\n              src={poster_path ? settings.imagePath + poster_path : ''}\r\n              alt=\"img\"\r\n            />\r\n          </div>\r\n          <div className=\"DetailsInfoTextBlock\">\r\n            <div>\r\n              <h3>{title}</h3>\r\n              <p>User scope: {Math.round(popularity)}%</p>\r\n            </div>\r\n            <div>\r\n              <h4>Overview</h4>\r\n              <p>{overview}</p>\r\n            </div>\r\n            <div>\r\n              <h4>Genres</h4>\r\n              <p>\r\n                {genres\r\n                  ? genres.map(genre => (\r\n                      <span key={genre.name}> {genre.name} </span>\r\n                    ))\r\n                  : null}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"AdditionalInfo\">\r\n          <p>Additional information</p>\r\n          <ul>\r\n            <li>\r\n              <Link\r\n                to={{\r\n                  pathname: `/movies/${id}/cast`,\r\n                  state: { from: this.props.location.state.from },\r\n                }}>\r\n                Cast\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link\r\n                to={{\r\n                  pathname: `/movies/${id}/reviews`,\r\n                  state: { from: this.props.location.state.from },\r\n                }}>\r\n                Reviews\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div>\r\n          <Suspense fallback={<h1>Loading...</h1>}>\r\n            <Route path=\"/movies/:movieId/cast\" component={AsyncCast} />\r\n          </Suspense>\r\n          <Route path=\"/movies/:movieId/reviews\" component={Reviews} />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}