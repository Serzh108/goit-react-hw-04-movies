(this["webpackJsonphomework-4"]=this["webpackJsonphomework-4"]||[]).push([[5],{68:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a.n(n);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var i=a(16),s=a(17),u=a(18),m=a(21),p=a(20),v=a(0),f=a.n(v),h=a(8),d=a(6),b=a(11),E=a.n(b),y=a(19);E.a.defaults.baseURL="https://api.themoviedb.org/3/";var O=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={reviewsData:[]},e.getData=function(){var t=Object(i.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(y.c).concat(a,"/reviews?api_key=").concat("ee1dd5cfcb7b0599fddd455fe2b32d45"),t.prev=1,t.next=4,E.a.get(n);case 4:c=t.sent,e.setState((function(e){return{reviewsData:c.data.results}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Error: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.movieId;e&&this.getData(e)}},{key:"render",value:function(){var e=this.state.reviewsData;return e.length?f.a.createElement("ul",null,e.map((function(e){return f.a.createElement("li",{key:e.id},f.a.createElement("p",null,"Author: ",f.a.createElement("span",null,e.author)),f.a.createElement("p",null,e.content))}))):f.a.createElement("p",null,"We don't have any reviews for this movie.")}}]),a}(v.Component),g=Object(v.lazy)((function(){return a.e(3).then(a.bind(null,67))}));E.a.defaults.baseURL="https://api.themoviedb.org/3/";var w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={moveiInfo:{}},e.getData=function(){var t=Object(i.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(y.c).concat(a,"?api_key=").concat("ee1dd5cfcb7b0599fddd455fe2b32d45"),t.prev=1,t.next=4,E.a.get(n);case 4:c=t.sent,e.setState((function(e){return{moveiInfo:l({},c.data)}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Error: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleClickBack=function(){var t=e.props,a=t.history,n=t.location;if(n.state)return a.push(n.state.from)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.movieId;this.getData(e)}},{key:"render",value:function(){var e=this.state.moveiInfo,t=e.id,a=e.title,n=e.overview,r=e.popularity,c=e.poster_path,o=e.genres;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"DetailsInfo"},f.a.createElement("div",null,f.a.createElement("button",{className:"GoBackButton",onClick:this.handleClickBack},"\u2190 Go back"),f.a.createElement("img",{className:"DetailsImg",src:c?y.a+c:"",alt:"img"})),f.a.createElement("div",{className:"DetailsInfoTextBlock"},f.a.createElement("div",null,f.a.createElement("h3",null,a),f.a.createElement("p",null,"User scope: ",Math.round(r),"%")),f.a.createElement("div",null,f.a.createElement("h4",null,"Overview"),f.a.createElement("p",null,n)),f.a.createElement("div",null,f.a.createElement("h4",null,"Genres"),f.a.createElement("p",null,o?o.map((function(e){return f.a.createElement("span",{key:e.name}," ",e.name," ")})):null)))),f.a.createElement("div",{className:"AdditionalInfo"},f.a.createElement("p",null,"Additional information"),f.a.createElement("ul",null,f.a.createElement("li",null,f.a.createElement(h.b,{to:{pathname:"/movies/".concat(t,"/cast"),state:{from:this.props.location.state.from}}},"Cast")),f.a.createElement("li",null,f.a.createElement(h.b,{to:{pathname:"/movies/".concat(t,"/reviews"),state:{from:this.props.location.state.from}}},"Reviews")))),f.a.createElement("div",null,f.a.createElement(v.Suspense,{fallback:f.a.createElement("h1",null,"Loading...")},f.a.createElement(d.a,{path:"/movies/:movieId/cast",component:g})),f.a.createElement(d.a,{path:"/movies/:movieId/reviews",component:O})))}}]),a}(v.Component);t.default=w}}]);
//# sourceMappingURL=5.d0d5d5d8.chunk.js.map